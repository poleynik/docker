input {
  beats {
    port => 5046
  }
}

filter {
    # Change UpperCase hostnames to lowercase
    mutate {
      lowercase => [ "[host][name]" ]
      lowercase => [ "[host][hostname]" ]
    }
}

output {
  if [host][hostname] in ["dc1", "dc2", "dc3", "dc4", "sdc", "tdc", "mdc", "vdc", "adc"] {
    elasticsearch {
    index => "%{[@metadata][beat]}-%{[@metadata][version]}-dc-%{+YYYY.MM.dd}"
    hosts => ["http://10.101.49.4:9200", "http://10.101.49.3:9200"]
    user => 'logstash_writer'
    password => 'Streak7_Monotype_Spirit'
    }
}
  else if [host][hostname] in ["tvipanel", "proteus", "dione", "asteriskdb", "e_tam_erp", "vtaxcom", "gliese", "amber", "titan", "sirius", "voasis", "bghmedia2", "rigel", "bgha2", "timex", "trassir", "trassir2", "ridiarydb", "vridiarydb", "dione"] {
    elasticsearch {
    index => "%{[@metadata][beat]}-%{[@metadata][version]}-pdn-%{+YYYY.MM.dd}"
    hosts => ["http://10.101.49.4:9200", "http://10.101.49.3:9200"]
    user => 'logstash_writer'
    password => 'Streak7_Monotype_Spirit'
 }
}
  else if [host][hostname] in ["post1", "post2"] {
    elasticsearch {
    index => "%{[@metadata][beat]}-%{[@metadata][version]}-post-%{+YYYY.MM.dd}"
    hosts => ["http://10.101.49.4:9200", "http://10.101.49.3:9200"]
    user => 'logstash_writer'
    password => 'Streak7_Monotype_Spirit'
 }
}
  else if [host][hostname] in ["tdev-dc-01", "win1"] {
    elasticsearch {
    index => "%{[@metadata][beat]}-%{[@metadata][version]}-ws-%{+YYYY.MM.dd}"
    hosts => ["http://10.101.49.4:9200", "http://10.101.49.3:9200"]
    user => 'logstash_writer'
    password => 'Streak7_Monotype_Spirit'
 }
}
  else {
    elasticsearch {
    index => "%{[@metadata][beat]}-%{[@metadata][version]}-%{+YYYY.MM.dd}"
    hosts => ["http://10.101.49.4:9200", "http://10.101.49.3:9200"]
    user => 'logstash_writer'
    password => 'Streak7_Monotype_Spirit'
 }
      } 
   
    #stdout { codec => rubydebug }
}
